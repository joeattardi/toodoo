<div
  #dropTarget
  class="todo"
  [class.completed]="todo.completed"
  [draggable]="!todo.completed"
  (dragstart)="onDragStart($event)"
  (drop)="onDrop($event)"
  (dragover)="onDragOver($event)"
  [class.overdue]="todo.isOverdue() && !todo.completed"
>
  <div class="todo-container">
    <div class="todo-controls">
      <app-toggle-todo [todo]="todo"></app-toggle-todo>
      <div class="priority">
        <i *ngIf="todo.priority === priorityEnum.HIGH || todo.priority === priorityEnum.LOW"
          class="fa fa-sm"
          [class.fa-arrow-up]="todo.priority === priorityEnum.HIGH"
          [class.fa-arrow-down]="todo.priority === priorityEnum.LOW"
        ></i>
      </div>
    </div>
    <div class="todo-text" (dblclick)="editTodo($event)">
      <div>{{ todo.text }}</div>
      <small class="due-date">{{ todo.dueDate | date }}</small>
    </div>
    <i
      class="fa fa-pencil align-self-center"
      (click)="editTodo($event)"
    ></i>
  </div>
</div>
